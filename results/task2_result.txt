[0;34mYaeger Benchmark - Task 2: Secure Microservice Authentication[0m
==============================================================
Setting up Python environment...
Installing dependencies...

[0;34m=== CORRECTNESS TESTS (70%) ===[0m
Starting authentication service...
Waiting for server to start...
/workspaces/yaeger_benchmark/tasks/task2/submission.py:258: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:     Started server process [23908]
INFO:     Waiting for application startup.
/workspaces/yaeger_benchmark/tasks/task2/submission.py:269: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "created_at": datetime.utcnow()
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
/workspaces/yaeger_benchmark/tasks/task2/submission.py:91: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  return {"status": "healthy", "timestamp": datetime.utcnow().isoformat()}
INFO:     127.0.0.1:36712 - "GET /health HTTP/1.1" 200 OK
[0;32mâœ“ Server started successfully[0m
Testing authentication endpoints...
/workspaces/yaeger_benchmark/tasks/task2/submission.py:120: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "created_at": datetime.utcnow()
INFO:     127.0.0.1:36728 - "POST /auth/register HTTP/1.1" 200 OK
[0;32mâœ“ Registration endpoint working[0m
/workspaces/yaeger_benchmark/tasks/task2/submission.py:60: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  expire = datetime.utcnow() + expires_delta
INFO:     127.0.0.1:36732 - "POST /auth/login HTTP/1.1" 200 OK
[0;32mâœ“ Login endpoint working[0m
INFO:     127.0.0.1:36744 - "GET /tokens/validate HTTP/1.1" 200 OK
[0;32mâœ“ Token validation working[0m
INFO:     127.0.0.1:36750 - "GET /health HTTP/1.1" 200 OK
[0;32mâœ“ Health endpoint working[0m
INFO:     127.0.0.1:36760 - "GET /oauth/authorize?client_id=demo_client&response_type=code&redirect_uri=http://localhost:8000/callback HTTP/1.1" 200 OK
[0;32mâœ“ OAuth2 authorize endpoint accessible[0m

[0;34m=== SECURITY TESTS (10%) ===[0m
INFO:     127.0.0.1:36770 - "POST /auth/login HTTP/1.1" 422 Unprocessable Entity
[0;32mâœ“ SQL injection protection working[0m
Testing rate limiting...
INFO:     127.0.0.1:36778 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36790 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36800 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36814 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36830 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36834 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36848 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36854 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36868 - "POST /auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:36876 - "POST /auth/login HTTP/1.1" 401 Unauthorized
[0;31mâœ— Rate limiting not working[0m
Running security analysis...
[0;32mâœ“ Security scan passed (2 issues)[0m

[0;34m=== PERFORMANCE TESTS (20%) ===[0m
Testing response times...
INFO:     127.0.0.1:36880 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36894 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36904 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36920 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36926 - "GET /health HTTP/1.1" 200 OK
[0;32mâœ“ Response time acceptable (0ms avg)[0m
Testing concurrent request handling...
INFO:     127.0.0.1:36950 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36956 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36940 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36962 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36968 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36970 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36980 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36988 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:36996 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37010 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37012 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37022 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37024 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37030 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37046 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37060 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37062 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37070 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37082 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:37088 - "GET /health HTTP/1.1" 200 OK
INFO:     73.74.38.11:0 - "GET / HTTP/1.1" 404 Not Found
