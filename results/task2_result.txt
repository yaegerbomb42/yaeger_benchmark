[0;34mYaeger Benchmark - Task 2: Secure Microservice Authentication[0m
==============================================================
Setting up Python environment...
Installing dependencies...

[0;34m=== CORRECTNESS TESTS (70%) ===[0m
Starting authentication service...
Waiting for server to start...
/workspaces/yaeger_benchmark/tasks/task2/submission.py:392: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:     Started server process [5424]
INFO:     Waiting for application startup.
INFO:     ASGI 'lifespan' protocol appears unsupported.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55480 - "GET /health HTTP/1.1" 500 Internal Server Error
[0;32mâœ“ Server started successfully[0m
Testing authentication endpoints...
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55484 - "POST /auth/register HTTP/1.1" 500 Internal Server Error
[0;31mâœ— Registration endpoint failed (HTTP 500)[0m
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55490 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
[0;31mâœ— Login endpoint failed (HTTP 500)[0m
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55494 - "GET /health HTTP/1.1" 500 Internal Server Error
[0;31mâœ— Health endpoint failed[0m
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55496 - "GET /oauth/authorize?client_id=demo_client&response_type=code&redirect_uri=http://localhost:8000/callback HTTP/1.1" 500 Internal Server Error
[0;31mâœ— OAuth2 authorize endpoint failed[0m

[0;34m=== SECURITY TESTS (10%) ===[0m
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55506 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
[0;31mâœ— SQL injection protection failed[0m
Testing rate limiting...
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55508 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55520 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55528 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55538 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55544 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55556 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55566 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55576 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55586 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55590 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55594 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55610 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55622 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55636 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55652 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55660 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55676 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55678 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55684 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55696 - "POST /auth/login HTTP/1.1" 500 Internal Server Error
[0;31mâœ— Rate limiting not working[0m
Running security analysis...
[0;32mâœ“ Security scan passed (1 issues)[0m

[0;34m=== PERFORMANCE TESTS (20%) ===[0m
Testing response times...
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55708 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55724 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55728 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55734 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55738 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55740 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55748 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55754 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55760 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55768 - "GET /health HTTP/1.1" 500 Internal Server Error
[0;32mâœ“ Response time acceptable (0ms avg)[0m
Testing concurrent request handling...
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55786 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55802 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55808 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55776 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55800 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55816 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55826 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55832 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55848 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55850 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55856 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55870 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55884 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55896 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55898 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55900 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55910 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55924 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55926 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55934 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55946 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55950 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55954 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55966 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55980 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55990 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:55996 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56004 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56006 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56018 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56024 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56034 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56044 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56048 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56058 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56064 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56078 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56086 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56094 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56098 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56102 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56104 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56120 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56124 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56126 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56128 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56132 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56146 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56160 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     127.0.0.1:56168 - "GET /health HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     73.74.38.11:0 - "GET / HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    self.middleware_stack = self.build_middleware_stack()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/yaeger_benchmark/tasks/task2/venv/lib/python3.12/site-packages/starlette/applications.py", line 99, in build_middleware_stack
    app = cls(app, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AuditLoggingMiddleware.__init__() got an unexpected keyword argument 'dispatch'
INFO:     73.74.38.11:0 - "GET /favicon.ico HTTP/1.1" 500 Internal Server Error
INFO:     Shutting down
INFO:     Finished server process [5424]
